"use strict";(()=>{var Ki=Object.create;var un=Object.defineProperty;var Gi=Object.getOwnPropertyDescriptor;var zi=Object.getOwnPropertyNames;var ji=Object.getPrototypeOf,Yi=Object.prototype.hasOwnProperty;var mr=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(s,c)=>(typeof require<"u"?require:s)[c]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var ge=(n,s)=>()=>(s||n((s={exports:{}}).exports,s),s.exports);var Vi=(n,s,c,f)=>{if(s&&typeof s=="object"||typeof s=="function")for(let o of zi(s))!Yi.call(n,o)&&o!==c&&un(n,o,{get:()=>s[o],enumerable:!(f=Gi(s,o))||f.enumerable});return n};var ln=(n,s,c)=>(c=n!=null?Ki(ji(n)):{},Vi(s||!n||!n.__esModule?un(c,"default",{value:n,enumerable:!0}):c,n));var vr=ge(()=>{});var gr=ge(()=>{});var hn=ge(()=>{});var bn=ge(()=>{});var pn=ge(()=>{});var gn=ge((vn,Ar)=>{"use strict";var mn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(s={}){function c(){return I.buffer!=X.buffer&&me(),X}function f(){return I.buffer!=X.buffer&&me(),ye}function o(){return I.buffer!=X.buffer&&me(),Ae}function g(){return I.buffer!=X.buffer&&me(),xe}function _(){return I.buffer!=X.buffer&&me(),Fe}function m(){return I.buffer!=X.buffer&&me(),Br}function u(){return I.buffer!=X.buffer&&me(),Ur}var i=s,T,V;i.ready=new Promise((e,r)=>{T=e,V=r});var Z=Object.assign({},i),K=[],ue="./this.program",_e=(e,r)=>{throw r},pe=typeof window=="object",ae=typeof importScripts=="function",J=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",k=i.ENVIRONMENT_IS_PTHREAD||!1,z="";function Q(e){return i.locateFile?i.locateFile(e,z):z+e}var h,F,S;if(J){var b=gr(),A=hn();ae?z=A.dirname(z)+"/":z=__dirname+"/",h=(r,t)=>(r=Kr(r)?new URL(r):A.normalize(r),b.readFileSync(r,t?void 0:"utf8")),S=r=>{var t=h(r,!0);return t.buffer||(t=new Uint8Array(t)),t},F=(r,t,a,l=!0)=>{r=Kr(r)?new URL(r):A.normalize(r),b.readFile(r,l?void 0:"utf8",(p,d)=>{p?a(p):t(l?d.buffer:d)})},!i.thisProgram&&process.argv.length>1&&(ue=process.argv[1].replace(/\\/g,"/")),K=process.argv.slice(2),_e=(r,t)=>{throw process.exitCode=r,t},i.inspect=()=>"[Emscripten Module object]";let e;try{e=vr()}catch(r){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),r}global.Worker=e.Worker}else(pe||ae)&&(ae?z=self.location.href:typeof document<"u"&&document.currentScript&&(z=document.currentScript.src),n&&(z=n),z.indexOf("blob:")!==0?z=z.substr(0,z.replace(/[?#].*/,"").lastIndexOf("/")+1):z="",J||(h=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},ae&&(S=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),F=(e,r,t)=>{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=()=>{if(a.status==200||a.status==0&&a.response){r(a.response);return}t()},a.onerror=t,a.send(null)}));J&&typeof performance>"u"&&(global.performance=bn().performance);var w=console.log.bind(console),B=console.error.bind(console);J&&(w=(...e)=>b.writeSync(1,e.join(" ")+"\n"),B=(...e)=>b.writeSync(2,e.join(" ")+"\n"));var v=i.print||w,x=i.printErr||B;Object.assign(i,Z),Z=null,i.arguments&&(K=i.arguments),i.thisProgram&&(ue=i.thisProgram),i.quit&&(_e=i.quit);var M;i.wasmBinary&&(M=i.wasmBinary),typeof WebAssembly!="object"&&Ee("no native wasm support detected");var I,Y,ne=!1,N;function le(e,r){e||Ee(r)}var X,ye,Ae,xe,Fe,Br,Mn,Ur;function me(){var e=I.buffer;i.HEAP8=X=new Int8Array(e),i.HEAP16=Ae=new Int16Array(e),i.HEAPU8=ye=new Uint8Array(e),i.HEAPU16=xe=new Uint16Array(e),i.HEAP32=Fe=new Int32Array(e),i.HEAPU32=Br=new Uint32Array(e),i.HEAPF32=Mn=new Float32Array(e),i.HEAPF64=Ur=new Float64Array(e)}var Ir=i.INITIAL_MEMORY||16777216;if(k)I=i.wasmMemory;else if(i.wasmMemory)I=i.wasmMemory;else if(I=new WebAssembly.Memory({initial:Ir/65536,maximum:65536,shared:!0}),!(I.buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),J&&x("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");me(),Ir=I.buffer.byteLength;var Hr=[],Nr=[],Bn=[],Lr=[],Pr=!1;function Un(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Or(i.preRun.shift());Ce(Hr)}function Cr(){Pr=!0,!k&&Ce(Nr)}function In(){k||Ce(Bn)}function Hn(){if(!k){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Ln(i.postRun.shift());Ce(Lr)}}function Or(e){Hr.unshift(e)}function Nn(e){Nr.unshift(e)}function Ln(e){Lr.unshift(e)}var ke=0,er=null,Me=null;function Wr(e){ke++,i.monitorRunDependencies&&i.monitorRunDependencies(ke)}function $r(e){if(ke--,i.monitorRunDependencies&&i.monitorRunDependencies(ke),ke==0&&(er!==null&&(clearInterval(er),er=null),Me)){var r=Me;Me=null,r()}}function Ee(e){i.onAbort&&i.onAbort(e),e="Aborted("+e+")",x(e),ne=!0,N=1,e+=". Build with -sASSERTIONS for more info.",Pr&&rn();var r=new WebAssembly.RuntimeError(e);throw V(r),r}var Pn="data:application/octet-stream;base64,",qr=e=>e.startsWith(Pn),Kr=e=>e.startsWith("file://"),Te;Te="./duckdb-coi.wasm",qr(Te)||(Te=Q(Te));function Gr(e){if(e==Te&&M)return new Uint8Array(M);if(S)return S(e);throw"both async and sync fetching of the wasm failed"}function Cn(e){return!M&&(pe||ae)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>Gr(e)):Promise.resolve().then(()=>Gr(e))}function zr(e,r,t){return Cn(e).then(a=>WebAssembly.instantiate(a,r)).then(a=>a).then(t,a=>{x("failed to asynchronously prepare wasm: ".concat(a)),Ee(a)})}function On(e,r,t,a){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!qr(r)&&!J&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(l=>{var p=WebAssembly.instantiateStreaming(l,t);return p.then(a,function(d){return x("wasm streaming compile failed: ".concat(d)),x("falling back to ArrayBuffer instantiation"),zr(r,t,a)})}):zr(r,t,a)}function Wn(){var e={a:Ga};function r(a,l){return E=a.exports,E=Li(E),Yn(E.db),tt=E.sa,Nn(E.qa),Y=l,$r("wasm-instantiate"),E}Wr("wasm-instantiate");function t(a){r(a.instance,a.module)}if(i.instantiateWasm)try{return i.instantiateWasm(e,r)}catch(a){x("Module.instantiateWasm callback failed with error: ".concat(a)),V(a)}return On(M,Te,e,t).catch(V),{}}var ie,Se;function rr(e){this.name="ExitStatus",this.message="Program terminated with exit(".concat(e,")"),this.status=e}var tr=e=>{e.terminate(),e.onmessage=r=>{}},$n=e=>{var r=H.pthreads[e];delete H.pthreads[e],tr(r),hr(e),H.runningWorkers.splice(H.runningWorkers.indexOf(r),1),r.pthread_ptr=0},qn=e=>{var r=H.pthreads[e];r.postMessage({cmd:"cancel"})},jr=e=>{var r=H.pthreads[e];H.returnWorkerToPool(r)},Yr=(e,r)=>(f().fill(0,e,e+r),e),Vr=e=>{var r=H.getNewWorker();if(!r)return 6;H.runningWorkers.push(r),H.pthreads[e.pthread_ptr]=r,r.pthread_ptr=e.pthread_ptr;var t={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return J&&r.unref(),r.postMessage(t,e.transferList),0},Jr=0,Le=()=>nt||Jr>0,Xr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Zr=(e,r,t)=>{r>>>=0;for(var a=r+t,l=r;e[l]&&!(l>=a);)++l;if(l-r>16&&e.buffer&&Xr)return Xr.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,l):e.subarray(r,l));for(var p="";r<l;){var d=e[r++];if(!(d&128)){p+=String.fromCharCode(d);continue}var y=e[r++]&63;if((d&224)==192){p+=String.fromCharCode((d&31)<<6|y);continue}var R=e[r++]&63;if((d&240)==224?d=(d&15)<<12|y<<6|R:d=(d&7)<<18|y<<12|R<<6|e[r++]&63,d<65536)p+=String.fromCharCode(d);else{var P=d-65536;p+=String.fromCharCode(55296|P>>10,56320|P&1023)}}return p},Re=(e,r)=>(e>>>=0,e?Zr(f(),e,r):""),we={varargs:void 0,get(){var e=_()[+we.varargs>>>2>>>0];return we.varargs+=4,e},getp(){return we.get()},getStr(e){var r=Re(e);return r}},Kn=e=>{var r=Ve(),t=e();return Ie(r),t},Pe=(e,r)=>r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN,L=function(e,r){var t=arguments.length-2,a=arguments;return Kn(()=>{for(var l=t,p=He(l*8),d=p>>>3,y=0;y<t;y++){var R=a[2+y];u()[d+y>>>0]=R}return Qt(e,l,p,r)})};function Qr(e){if(k)return L(0,1,e);N=e,Le()||(H.terminateAllThreads(),i.onExit&&i.onExit(e),ne=!0),_e(e,new rr(e))}var et=(e,r)=>{if(N=e,k)throw rt(e),"unwind";Qr(e)},nr=et,ar=e=>{if(e instanceof rr||e=="unwind")return N;_e(1,e)},H={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){k?H.initWorker():H.initMainThread()},initMainThread(){for(var e=4;e--;)H.allocateUnusedWorker();Or(()=>{Wr("loading-workers"),H.loadWasmModuleToAllWorkers(()=>$r("loading-workers"))})},initWorker(){nt=!1},setExitStatus:e=>{N=e},terminateAllThreads__deps:["$terminateWorker"],terminateAllThreads:()=>{for(var e of H.runningWorkers)tr(e);for(var e of H.unusedWorkers)tr(e);H.unusedWorkers=[],H.runningWorkers=[],H.pthreads=[]},returnWorkerToPool:e=>{var r=e.pthread_ptr;delete H.pthreads[r],H.unusedWorkers.push(e),H.runningWorkers.splice(H.runningWorkers.indexOf(e),1),e.pthread_ptr=0,hr(r)},receiveObjectTransfer(e){},threadInitTLS(){H.tlsInitFunctions.forEach(e=>e())},loadWasmModuleToWorker:e=>new Promise(r=>{e.onmessage=p=>{var d=p.data,y=d.cmd;if(d.targetThread&&d.targetThread!=ze()){var R=H.pthreads[d.targetThread];R?R.postMessage(d,d.transferList):x('Internal error! Worker sent a message "'.concat(y,'" to target pthread ').concat(d.targetThread,", but that thread no longer exists!"));return}y==="checkMailbox"?qe():y==="spawnThread"?Vr(d):y==="cleanupThread"?jr(d.thread):y==="killThread"?$n(d.thread):y==="cancelThread"?qn(d.thread):y==="loaded"?(e.loaded=!0,J&&!e.pthread_ptr&&e.unref(),r(e)):y==="alert"?alert("Thread ".concat(d.threadId,": ").concat(d.text)):d.target==="setimmediate"?e.postMessage(d):y==="callHandler"?i[d.handler](...d.args):y&&x("worker sent an unknown command ".concat(y))},e.onerror=p=>{var d="worker sent an error!";throw x("".concat(d," ").concat(p.filename,":").concat(p.lineno,": ").concat(p.message)),p},J&&(e.on("message",p=>e.onmessage({data:p})),e.on("error",p=>e.onerror(p)));var t=[],a=["onExit","onAbort","print","printErr"];for(var l of a)i.hasOwnProperty(l)&&t.push(l);e.postMessage({cmd:"load",handlers:t,urlOrBlob:i.mainScriptUrlOrBlob||n,wasmMemory:I,wasmModule:Y})}),loadWasmModuleToAllWorkers(e){if(k)return e();Promise.all(H.unusedWorkers.map(H.loadWasmModuleToWorker)).then(e)},allocateUnusedWorker(){var e,r=Q("duckdb_wasm.worker.js");e=new Worker(r),H.unusedWorkers.push(e)},getNewWorker(){return H.unusedWorkers.length==0&&(H.allocateUnusedWorker(),H.loadWasmModuleToWorker(H.unusedWorkers[0])),H.unusedWorkers.pop()}};i.PThread=H;var Ce=e=>{for(;e.length>0;)e.shift()(i)},Gn=()=>{var e=ze(),r=m()[e+52>>>2>>>0],t=m()[e+56>>>2>>>0],a=r-t;tn(r,a),Ie(r)};i.establishStackSpace=Gn;function rt(e){if(k)return L(1,0,e);nr(e)}var Oe=[],tt,zn=e=>{var r=Oe[e];return r||(e>=Oe.length&&(Oe.length=e+1),Oe[e]=r=tt.get(e)),r},jn=(e,r)=>{var t=zn(e)(r);function a(l){Le()?H.setExitStatus(l):br(l)}a(t)};i.invokeEntryPoint=jn;var nt=i.noExitRuntime||!0,Yn=e=>{H.tlsInitFunctions.push(e)};function Vn(e){e>>>=0,Zt(e,!ae,1,!pe,65536,!1),H.threadInitTLS()}function Jn(e){e>>>=0,k?postMessage({cmd:"cleanupThread",thread:e}):jr(e)}function at(e,r,t,a){return k?L(2,1,e,r,t,a):it(e,r,t,a)}function it(e,r,t,a){if(e>>>=0,r>>>=0,t>>>=0,a>>>=0,typeof SharedArrayBuffer>"u")return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var l=[],p=0;if(k&&(l.length===0||p))return at(e,r,t,a);if(p)return p;var d={startRoutine:t,pthread_ptr:e,arg:a,transferList:l};return k?(d.cmd="spawnThread",postMessage(d,l),0):Vr(d)}function st(e,r,t,a,l){if(k)return L(3,1,e,r,t,a,l);r>>>=0,t>>>=0,a>>>=0,l>>>=0;for(var p=0,d=r?_()[r>>>2>>>0]:0,y=r?_()[r+4>>>2>>>0]:0,R=t?_()[t>>>2>>>0]:0,P=t?_()[t+4>>>2>>>0]:0,O=a?_()[a>>>2>>>0]:0,re=a?_()[a+4>>>2>>>0]:0,W=0,de=0,j=0,te=0,ce=0,ve=0,D=(r?_()[r>>>2>>>0]:0)|(t?_()[t>>>2>>>0]:0)|(a?_()[a>>>2>>>0]:0),U=(r?_()[r+4>>>2>>>0]:0)|(t?_()[t+4>>>2>>>0]:0)|(a?_()[a+4>>>2>>>0]:0),q=function(Wi,$i,qi,on){return Wi<32?$i&on:qi&on},$=0;$<e;$++){var ee=1<<$%32;if(q($,D,U,ee)){var Ne=we.getStreamFromFD($),Xe=we.DEFAULT_POLLMASK;if(Ne.stream_ops.poll){var sn=-1;if(l){var Ci=r?_()[l>>>2>>>0]:0,Oi=r?_()[l+8>>>2>>>0]:0;sn=(Ci+Oi/1e6)*1e3}Xe=Ne.stream_ops.poll(Ne,sn)}Xe&1&&q($,d,y,ee)&&($<32?W=W|ee:de=de|ee,p++),Xe&4&&q($,R,P,ee)&&($<32?j=j|ee:te=te|ee,p++),Xe&2&&q($,O,re,ee)&&($<32?ce=ce|ee:ve=ve|ee,p++)}}return r&&(_()[r>>>2>>>0]=W,_()[r+4>>>2>>>0]=de),t&&(_()[t>>>2>>>0]=j,_()[t+4>>>2>>>0]=te),a&&(_()[a>>>2>>>0]=ce,_()[a+4>>>2>>>0]=ve),p}function ot(){Ee("missing function: $SOCKFS")}ot.stub=!0;function ir(){Ee("missing function: $FS")}ir.stub=!0;var Be=e=>{var r=ot.getSocket(e);if(!r)throw new ir.ErrnoError(8);return r},sr=e=>(e&255)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255),ut=e=>{var r="",t=0,a=0,l=0,p=0,d=0,y=0,R=[e[0]&65535,e[0]>>16,e[1]&65535,e[1]>>16,e[2]&65535,e[2]>>16,e[3]&65535,e[3]>>16],P=!0,O="";for(y=0;y<5;y++)if(R[y]!==0){P=!1;break}if(P){if(O=sr(R[6]|R[7]<<16),R[5]===-1)return r="::ffff:",r+=O,r;if(R[5]===0)return r="::",O==="0.0.0.0"&&(O=""),O==="0.0.0.1"&&(O="1"),r+=O,r}for(t=0;t<8;t++)R[t]===0&&(t-l>1&&(d=0),l=t,d++),d>a&&(a=d,p=t-a+1);for(t=0;t<8;t++){if(a>1&&R[t]===0&&t>=p&&t<p+a){t===p&&(r+=":",p===0&&(r+=":"));continue}r+=Number(dr(R[t]&65535)).toString(16),r+=t<7?":":""}return r},lt=(e,r)=>{var t=o()[e>>>1>>>0],a=dr(g()[e+2>>>1>>>0]),l;switch(t){case 2:if(r!==16)return{errno:28};l=_()[e+4>>>2>>>0],l=sr(l);break;case 10:if(r!==28)return{errno:28};l=[_()[e+8>>>2>>>0],_()[e+12>>>2>>>0],_()[e+16>>>2>>>0],_()[e+20>>>2>>>0]],l=ut(l);break;default:return{errno:5}}return{family:t,addr:l,port:a}},We=e=>{for(var r=e.split("."),t=0;t<4;t++){var a=Number(r[t]);if(isNaN(a))return null;r[t]=a}return(r[0]|r[1]<<8|r[2]<<16|r[3]<<24)>>>0},$e=e=>parseInt(e),or=e=>{var r,t,a,l,p=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,d=[];if(!p.test(e))return null;if(e==="::")return[0,0,0,0,0,0,0,0];for(e.startsWith("::")?e=e.replace("::","Z:"):e=e.replace("::",":Z:"),e.indexOf(".")>0?(e=e.replace(new RegExp("[.]","g"),":"),r=e.split(":"),r[r.length-4]=$e(r[r.length-4])+$e(r[r.length-3])*256,r[r.length-3]=$e(r[r.length-2])+$e(r[r.length-1])*256,r=r.slice(0,r.length-2)):r=e.split(":"),a=0,l=0,t=0;t<r.length;t++)if(typeof r[t]=="string")if(r[t]==="Z"){for(l=0;l<8-r.length+1;l++)d[t+l]=0;a=l-1}else d[t+a]=Ye(parseInt(r[t],16));else d[t+a]=r[t];return[d[1]<<16|d[0],d[3]<<16|d[2],d[5]<<16|d[4],d[7]<<16|d[6]]},se={address_map:{id:1,addrs:{},names:{}},lookup_name(e){var r=We(e);if(r!==null||(r=or(e),r!==null))return e;var t;if(se.address_map.addrs[e])t=se.address_map.addrs[e];else{var a=se.address_map.id++;le(a<65535,"exceeded max address mappings of 65535"),t="172.29."+(a&255)+"."+(a&65280),se.address_map.names[t]=e,se.address_map.addrs[e]=t}return t},lookup_addr(e){return se.address_map.names[e]?se.address_map.names[e]:null}},ct=(e,r,t)=>{if(t&&e===0)return null;var a=lt(e,r);if(a.errno)throw new ir.ErrnoError(a.errno);return a.addr=se.lookup_addr(a.addr)||a.addr,a};function ft(e,r,t,a,l,p){if(k)return L(4,1,e,r,t,a,l,p);r>>>=0,t>>>=0;var d=Be(e),y=ct(r,t);return d.sock_ops.bind(d,y.addr,y.port),0}function _t(e,r,t,a,l,p){if(k)return L(5,1,e,r,t,a,l,p);r>>>=0,t>>>=0;var d=Be(e),y=ct(r,t);return d.sock_ops.connect(d,y.addr,y.port),0}function dt(e,r,t,a){if(k)return L(6,1,e,r,t,a);r>>>=0}function ht(e,r,t){return k?L(7,1,e,r,t):(t>>>=0,we.varargs=t,0)}function bt(e,r){if(k)return L(8,1,e,r);r>>>=0}function pt(e,r,t){if(k)return L(9,1,e,r,t);var a=Pe(r,t)}var mt=(e,r,t,a)=>{if(t>>>=0,!(a>0))return 0;for(var l=t,p=t+a-1,d=0;d<e.length;++d){var y=e.charCodeAt(d);if(y>=55296&&y<=57343){var R=e.charCodeAt(++d);y=65536+((y&1023)<<10)|R&1023}if(y<=127){if(t>=p)break;r[t++>>>0]=y}else if(y<=2047){if(t+1>=p)break;r[t++>>>0]=192|y>>6,r[t++>>>0]=128|y&63}else if(y<=65535){if(t+2>=p)break;r[t++>>>0]=224|y>>12,r[t++>>>0]=128|y>>6&63,r[t++>>>0]=128|y&63}else{if(t+3>=p)break;r[t++>>>0]=240|y>>18,r[t++>>>0]=128|y>>12&63,r[t++>>>0]=128|y>>6&63,r[t++>>>0]=128|y&63}}return r[t>>>0]=0,t-l},ur=(e,r,t)=>mt(e,f(),r,t);function vt(e,r,t){if(k)return L(10,1,e,r,t);r>>>=0,t>>>=0}var lr=(e,r,t,a,l)=>{switch(r){case 2:t=We(t),Yr(e,16),l&&(_()[l>>>2>>>0]=16),o()[e>>>1>>>0]=r,_()[e+4>>>2>>>0]=t,o()[e+2>>>1>>>0]=Ye(a);break;case 10:t=or(t),Yr(e,28),l&&(_()[l>>>2>>>0]=28),_()[e>>>2>>>0]=r,_()[e+8>>>2>>>0]=t[0],_()[e+12>>>2>>>0]=t[1],_()[e+16>>>2>>>0]=t[2],_()[e+20>>>2>>>0]=t[3],o()[e+2>>>1>>>0]=Ye(a);break;default:return 5}return 0};function gt(e,r,t,a,l,p){if(k)return L(11,1,e,r,t,a,l,p);r>>>=0,t>>>=0;var d=Be(e);if(!d.daddr)return-53;var y=lr(r,d.family,se.lookup_name(d.daddr),d.dport,t);return 0}function yt(e,r,t,a,l,p){if(k)return L(12,1,e,r,t,a,l,p);a>>>=0,l>>>=0;var d=Be(e);return r===1&&t===4?(_()[a>>>2>>>0]=d.error,_()[l>>>2>>>0]=4,d.error=null,0):-50}function wt(e,r,t){return k?L(13,1,e,r,t):(t>>>=0,we.varargs=t,0)}function Dt(e,r){if(k)return L(14,1,e,r);e>>>=0,r>>>=0}function Ft(e,r,t){if(k)return L(15,1,e,r,t);r>>>=0}function kt(e,r,t,a){if(k)return L(16,1,e,r,t,a);r>>>=0,t>>>=0}function Et(e,r,t,a){if(k)return L(17,1,e,r,t,a);r>>>=0,a>>>=0,we.varargs=a}function At(e,r,t,a,l,p){if(k)return L(18,1,e,r,t,a,l,p);r>>>=0,t>>>=0,l>>>=0,p>>>=0;var d=Be(e),y=d.sock_ops.recvmsg(d,t);if(!y)return 0;if(l)var R=lr(l,d.family,se.lookup_name(y.addr),y.port,p);return f().set(y.buffer,r>>>0),y.buffer.byteLength}function xt(e,r,t,a){if(k)return L(19,1,e,r,t,a);r>>>=0,a>>>=0}function Tt(e){if(k)return L(20,1,e);e>>>=0}function St(e,r,t,a,l,p){if(k)return L(21,1,e,r,t,a,l,p);r>>>=0,t>>>=0,l>>>=0,p>>>=0}function Rt(e,r,t){if(k)return L(22,1,e,r,t)}function Mt(e,r){if(k)return L(23,1,e,r);e>>>=0,r>>>=0}function Bt(e,r,t){if(k)return L(24,1,e,r,t);r>>>=0}var Xn=1,Zn=()=>Xn,Qn=()=>{if(!Le())try{k?br(N):nr(N)}catch(e){ar(e)}},ea=e=>{if(!ne)try{e(),Qn()}catch(r){ar(r)}};function cr(e){if(e>>>=0,typeof Atomics.waitAsync=="function"){var r=Atomics.waitAsync(_(),e>>>2,e);r.value.then(qe);var t=e+128;Atomics.store(_(),t>>>2,1)}}i.__emscripten_thread_mailbox_await=cr;var qe=()=>{var e=ze();e&&(cr(e),ea(en))};i.checkMailbox=qe;var ra=function(e,r,t){if(e>>>=0,r>>>=0,t>>>=0,e==r)setTimeout(()=>qe());else if(k)postMessage({targetThread:e,cmd:"checkMailbox"});else{var a=H.pthreads[e];if(!a)return;a.postMessage({cmd:"checkMailbox"})}},fr=[];function ta(e,r,t,a){r>>>=0,a>>>=0,fr.length=t;for(var l=a>>>3,p=0;p<t;p++)fr[p]=u()[l+p>>>0];var d=Ka[e];H.currentProxiedOperationCallerThread=r;var y=d.apply(null,fr);return H.currentProxiedOperationCallerThread=0,y}function na(e){e>>>=0,J&&H.pthreads[e].ref()}var aa=()=>{Ee("")};function ia(e,r){return e>>>=0,globalThis.DUCKDB_RUNTIME.createDirectory(i,e,r)}function sa(e,r){return e>>>=0,globalThis.DUCKDB_RUNTIME.checkDirectory(i,e,r)}function oa(e,r){return e>>>=0,globalThis.DUCKDB_RUNTIME.listDirectoryEntries(i,e,r)}function ua(e,r){return e>>>=0,globalThis.DUCKDB_RUNTIME.removeDirectory(i,e,r)}function la(e){return globalThis.DUCKDB_RUNTIME.closeFile(i,e)}function ca(e,r){return e>>>=0,globalThis.DUCKDB_RUNTIME.checkFile(i,e,r)}function fa(e){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(i,e)}function _a(e,r,t,a){return e>>>=0,t>>>=0,globalThis.DUCKDB_RUNTIME.moveFile(i,e,r,t,a)}function da(e,r){return globalThis.DUCKDB_RUNTIME.openFile(i,e,r)}function ha(e,r,t,a){return r>>>=0,globalThis.DUCKDB_RUNTIME.readFile(i,e,r,t,a)}function ba(e,r){return globalThis.DUCKDB_RUNTIME.truncateFile(i,e,r)}function pa(e,r,t,a){return r>>>=0,globalThis.DUCKDB_RUNTIME.writeFile(i,e,r,t,a)}function ma(e){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(e)}function va(e,r){return e>>>=0,globalThis.DUCKDB_RUNTIME.glob(i,e,r)}function ga(e){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(i,e)}function ya(e,r,t,a,l,p){return e>>>=0,t>>>=0,l>>>=0,globalThis.DUCKDB_RUNTIME.callScalarUDF(i,e,r,t,a,l,p)}var Ke=e=>{Ke.shown||(Ke.shown={}),Ke.shown[e]||(Ke.shown[e]=1,J&&(e="warning: "+e),x(e))},wa=()=>{},Da=()=>Date.now(),Fa=()=>{Jr+=1},ka=()=>{throw Fa(),"unwind"},Ut=()=>4294901760;function Ea(){return Ut()}var It;It=()=>performance.timeOrigin+performance.now();var Aa=()=>J?pn().cpus().length:navigator.hardwareConcurrency,xa=e=>{var r=I.buffer,t=(e-r.byteLength+65535)/65536;try{return I.grow(t),me(),1}catch(a){}};function Ta(e){e>>>=0;var r=f().length;if(e<=r)return!1;var t=Ut();if(e>t)return!1;for(var a=(R,P)=>R+(P-R%P)%P,l=1;l<=4;l*=2){var p=r*(1+.2/l);p=Math.min(p,e+100663296);var d=Math.min(t,a(Math.max(e,p),65536)),y=xa(d);if(y)return!0}return!1}var _r={},Sa=()=>ue||"./this.program",Ue=()=>{if(!Ue.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Sa()};for(var t in _r)_r[t]===void 0?delete r[t]:r[t]=_r[t];var a=[];for(var t in r)a.push("".concat(t,"=").concat(r[t]));Ue.strings=a}return Ue.strings},Ra=(e,r)=>{for(var t=0;t<e.length;++t)c()[r++>>>0>>>0]=e.charCodeAt(t);c()[r>>>0>>>0]=0},Ht=function(e,r){if(k)return L(25,1,e,r);e>>>=0,r>>>=0;var t=0;return Ue().forEach((a,l)=>{var p=r+t;m()[e+l*4>>>2>>>0]=p,Ra(a,p),t+=a.length+1}),0},Nt=function(e,r){if(k)return L(26,1,e,r);e>>>=0,r>>>=0;var t=Ue();m()[e>>>2>>>0]=t.length;var a=0;return t.forEach(l=>a+=l.length+1),m()[r>>>2>>>0]=a,0};function Lt(e){return k?L(27,1,e):52}function Pt(e,r){if(k)return L(28,1,e,r);r>>>=0;var t=0,a=0,l=0;{var p=2;e==0?t=2:(e==1||e==2)&&(t=64),l=1}return c()[r>>>0>>>0]=p,o()[r+2>>>1>>>0]=l,Se=[t>>>0,(ie=t,+Math.abs(ie)>=1?ie>0?+Math.floor(ie/4294967296)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],_()[r+8>>>2>>>0]=Se[0],_()[r+12>>>2>>>0]=Se[1],Se=[a>>>0,(ie=a,+Math.abs(ie)>=1?ie>0?+Math.floor(ie/4294967296)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],_()[r+16>>>2>>>0]=Se[0],_()[r+20>>>2>>>0]=Se[1],0}function Ct(e,r,t,a,l,p){if(k)return L(29,1,e,r,t,a,l,p);r>>>=0,t>>>=0;var d=Pe(a,l);return p>>>=0,52}function Ot(e,r,t,a,l,p){if(k)return L(30,1,e,r,t,a,l,p);r>>>=0,t>>>=0;var d=Pe(a,l);return p>>>=0,52}function Wt(e,r,t,a){return k?L(31,1,e,r,t,a):(r>>>=0,t>>>=0,a>>>=0,52)}function $t(e,r,t,a,l){if(k)return L(32,1,e,r,t,a,l);var p=Pe(r,t);return l>>>=0,70}function qt(e){return k?L(33,1,e):52}var Ma=[null,[],[]],Ba=(e,r)=>{var t=Ma[e];r===0||r===10?((e===1?v:x)(Zr(t,0)),t.length=0):t.push(r)};function Kt(e,r,t,a){if(k)return L(34,1,e,r,t,a);r>>>=0,t>>>=0,a>>>=0;for(var l=0,p=0;p<t;p++){var d=m()[r>>>2>>>0],y=m()[r+4>>>2>>>0];r+=8;for(var R=0;R<y;R++)Ba(e,f()[d+R>>>0]);l+=y}return m()[a>>>2>>>0]=l,0}function Gt(e,r,t,a){if(k)return L(35,1,e,r,t,a);e>>>=0,r>>>=0,t>>>=0,a>>>=0;var l=0,p=0,d=0,y=0,R=0,P=0,O;function re(W,de,j,te,ce,ve){var D,U,q,$;return U=W===10?28:16,ce=W===10?ut(ce):sr(ce),D=pr(U),$=lr(D,W,ce,ve),le(!$),q=pr(32),_()[q+4>>>2>>>0]=W,_()[q+8>>>2>>>0]=de,_()[q+12>>>2>>>0]=j,m()[q+24>>>2>>>0]=te,m()[q+20>>>2>>>0]=D,W===10?_()[q+16>>>2>>>0]=28:_()[q+16>>>2>>>0]=16,_()[q+28>>>2>>>0]=0,q}if(t&&(d=_()[t>>>2>>>0],y=_()[t+4>>>2>>>0],R=_()[t+8>>>2>>>0],P=_()[t+12>>>2>>>0]),R&&!P&&(P=R===2?17:6),!R&&P&&(R=P===17?2:1),P===0&&(P=6),R===0&&(R=1),!e&&!r)return-2;if(d&-1088||t!==0&&_()[t>>>2>>>0]&2&&!e)return-1;if(d&32)return-2;if(R!==0&&R!==1&&R!==2)return-7;if(y!==0&&y!==2&&y!==10)return-6;if(r&&(r=Re(r),p=parseInt(r,10),isNaN(p)))return d&1024?-2:-8;if(!e)return y===0&&(y=2),d&1||(y===2?l=je(2130706433):l=[0,0,0,1]),O=re(y,R,P,null,l,p),m()[a>>>2>>>0]=O,0;if(e=Re(e),l=We(e),l!==null)if(y===0||y===2)y=2;else if(y===10&&d&8)l=[0,0,je(65535),l],y=10;else return-2;else if(l=or(e),l!==null)if(y===0||y===10)y=10;else return-2;return l!=null?(O=re(y,R,P,e,l,p),m()[a>>>2>>>0]=O,0):d&4?-2:(e=se.lookup_name(e),l=We(e),y===0?y=2:y===10&&(l=[0,0,je(65535),l]),O=re(y,R,P,null,l,p),m()[a>>>2>>>0]=O,0)}var Ua=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return a=>(a.set(crypto.getRandomValues(new Uint8Array(a.byteLength))),a);if(J)try{var e=mr("crypto"),r=e.randomFillSync;if(r)return a=>e.randomFillSync(a);var t=e.randomBytes;return a=>(a.set(t(a.byteLength)),a)}catch(a){}Ee("initRandomDevice")},zt=e=>(zt=Ua())(e);function Ia(e,r){return e>>>=0,r>>>=0,zt(f().subarray(e>>>0,e+r>>>0)),0}function Ha(e,r,t,a,l,p,d){e>>>=0,t>>>=0,l>>>=0;var y=lt(e,r);if(y.errno)return-6;var R=y.port,P=y.addr,O=!1;if(t&&a){var re;if(d&1||!(re=se.lookup_addr(P))){if(d&8)return-2}else P=re;var W=ur(P,t,a);W+1>=a&&(O=!0)}if(l&&p){R=""+R;var W=ur(R,l,p);W+1>=p&&(O=!0)}return O?-12:0}var Ge=e=>e%4===0&&(e%100!==0||e%400===0),Na=(e,r)=>{for(var t=0,a=0;a<=r;t+=e[a++]);return t},jt=[31,29,31,30,31,30,31,31,30,31,30,31],Yt=[31,28,31,30,31,30,31,31,30,31,30,31],La=(e,r)=>{for(var t=new Date(e.getTime());r>0;){var a=Ge(t.getFullYear()),l=t.getMonth(),p=(a?jt:Yt)[l];if(r>p-t.getDate())r-=p-t.getDate()+1,t.setDate(1),l<11?t.setMonth(l+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t},Vt=e=>{for(var r=0,t=0;t<e.length;++t){var a=e.charCodeAt(t);a<=127?r++:a<=2047?r+=2:a>=55296&&a<=57343?(r+=4,++t):r+=3}return r};function Pa(e,r,t){var a=t>0?t:Vt(e)+1,l=new Array(a),p=mt(e,l,0,l.length);return r&&(l.length=p),l}var Jt=(e,r)=>{c().set(e,r>>>0)};function Ca(e,r,t,a){e>>>=0,r>>>=0,t>>>=0,a>>>=0;var l=m()[a+40>>>2>>>0],p={tm_sec:_()[a>>>2>>>0],tm_min:_()[a+4>>>2>>>0],tm_hour:_()[a+8>>>2>>>0],tm_mday:_()[a+12>>>2>>>0],tm_mon:_()[a+16>>>2>>>0],tm_year:_()[a+20>>>2>>>0],tm_wday:_()[a+24>>>2>>>0],tm_yday:_()[a+28>>>2>>>0],tm_isdst:_()[a+32>>>2>>>0],tm_gmtoff:_()[a+36>>>2>>>0],tm_zone:l?Re(l):""},d=Re(t),y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var R in y)d=d.replace(new RegExp(R,"g"),y[R]);var P=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O=["January","February","March","April","May","June","July","August","September","October","November","December"];function re(D,U,q){for(var $=typeof D=="number"?D.toString():D||"";$.length<U;)$=q[0]+$;return $}function W(D,U){return re(D,U,"0")}function de(D,U){function q(ee){return ee<0?-1:ee>0?1:0}var $;return($=q(D.getFullYear()-U.getFullYear()))===0&&($=q(D.getMonth()-U.getMonth()))===0&&($=q(D.getDate()-U.getDate())),$}function j(D){switch(D.getDay()){case 0:return new Date(D.getFullYear()-1,11,29);case 1:return D;case 2:return new Date(D.getFullYear(),0,3);case 3:return new Date(D.getFullYear(),0,2);case 4:return new Date(D.getFullYear(),0,1);case 5:return new Date(D.getFullYear()-1,11,31);case 6:return new Date(D.getFullYear()-1,11,30)}}function te(D){var U=La(new Date(D.tm_year+1900,0,1),D.tm_yday),q=new Date(U.getFullYear(),0,4),$=new Date(U.getFullYear()+1,0,4),ee=j(q),Ne=j($);return de(ee,U)<=0?de(Ne,U)<=0?U.getFullYear()+1:U.getFullYear():U.getFullYear()-1}var ce={"%a":D=>P[D.tm_wday].substring(0,3),"%A":D=>P[D.tm_wday],"%b":D=>O[D.tm_mon].substring(0,3),"%B":D=>O[D.tm_mon],"%C":D=>{var U=D.tm_year+1900;return W(U/100|0,2)},"%d":D=>W(D.tm_mday,2),"%e":D=>re(D.tm_mday,2," "),"%g":D=>te(D).toString().substring(2),"%G":D=>te(D),"%H":D=>W(D.tm_hour,2),"%I":D=>{var U=D.tm_hour;return U==0?U=12:U>12&&(U-=12),W(U,2)},"%j":D=>W(D.tm_mday+Na(Ge(D.tm_year+1900)?jt:Yt,D.tm_mon-1),3),"%m":D=>W(D.tm_mon+1,2),"%M":D=>W(D.tm_min,2),"%n":()=>"\n","%p":D=>D.tm_hour>=0&&D.tm_hour<12?"AM":"PM","%S":D=>W(D.tm_sec,2),"%t":()=>"	","%u":D=>D.tm_wday||7,"%U":D=>{var U=D.tm_yday+7-D.tm_wday;return W(Math.floor(U/7),2)},"%V":D=>{var U=Math.floor((D.tm_yday+7-(D.tm_wday+6)%7)/7);if((D.tm_wday+371-D.tm_yday-2)%7<=2&&U++,U){if(U==53){var $=(D.tm_wday+371-D.tm_yday)%7;$!=4&&($!=3||!Ge(D.tm_year))&&(U=1)}}else{U=52;var q=(D.tm_wday+7-D.tm_yday-1)%7;(q==4||q==5&&Ge(D.tm_year%400-1))&&U++}return W(U,2)},"%w":D=>D.tm_wday,"%W":D=>{var U=D.tm_yday+7-(D.tm_wday+6)%7;return W(Math.floor(U/7),2)},"%y":D=>(D.tm_year+1900).toString().substring(2),"%Y":D=>D.tm_year+1900,"%z":D=>{var U=D.tm_gmtoff,q=U>=0;return U=Math.abs(U)/60,U=U/60*100+U%60,(q?"+":"-")+("0000"+U).slice(-4)},"%Z":D=>D.tm_zone,"%%":()=>"%"};d=d.replace(/%%/g,"\0\0");for(var R in ce)d.includes(R)&&(d=d.replace(new RegExp(R,"g"),ce[R](p)));d=d.replace(/\0\0/g,"%");var ve=Pa(d,!1);return ve.length>r?0:(Jt(ve,e),ve.length-1)}function Oa(e,r,t,a,l){return e>>>=0,r>>>=0,t>>>=0,a>>>=0,l>>>=0,Ca(e,r,t,a)}var Wa=e=>{var r=i["_"+e];return r},$a=e=>{var r=Vt(e)+1,t=He(r);return ur(e,t,r),t},qa=(e,r,t,a,l)=>{var p={string:j=>{var te=0;return j!=null&&j!==0&&(te=$a(j)),te},array:j=>{var te=He(j.length);return Jt(j,te),te}};function d(j){return r==="string"?Re(j):r==="boolean"?!!j:j}var y=Wa(e),R=[],P=0;if(a)for(var O=0;O<a.length;O++){var re=p[t[O]];re?(P===0&&(P=Ve()),R[O]=re(a[O])):R[O]=a[O]}var W=y.apply(null,R);function de(j){return P!==0&&Ie(P),d(j)}return W=de(W),W};H.init();var Ka=[Qr,rt,at,st,ft,_t,dt,ht,bt,pt,vt,gt,yt,wt,Dt,Ft,kt,Et,At,xt,Tt,St,Rt,Mt,Bt,Ht,Nt,Lt,Pt,Ct,Ot,Wt,$t,qt,Kt,Gt],Ga={E:Vn,s:Jn,ga:it,$:st,ea:ft,ca:_t,X:dt,b:ht,W:bt,x:pt,R:vt,Z:gt,_:yt,q:wt,T:Dt,S:Ft,U:kt,r:Et,aa:At,P:xt,k:Tt,ba:St,n:Rt,V:Mt,l:Bt,oa:Zn,da:ra,M:ta,v:cr,u:na,e:aa,H:ia,I:sa,F:oa,G:ua,j:la,C:ca,w:fa,D:_a,K:da,f:ha,J:ba,g:pa,L:ma,B:va,i:ga,N:ya,m:wa,pa:Da,t:ka,ha:Ea,c:It,ia:Aa,na:Ta,ka:Ht,la:Nt,fa:nr,d:Lt,ma:Pt,z:Ct,y:Ot,p:Wt,A:$t,Q:qt,h:Kt,o:Gt,O:Ia,Y:Ha,a:I||i.wasmMemory,ja:Oa},E=Wn(),za=()=>(za=E.qa)(),Xt=i._main=(e,r)=>(Xt=i._main=E.ra)(e,r),ja=i._duckdb_web_fs_glob_add_path=e=>(ja=i._duckdb_web_fs_glob_add_path=E.ta)(e),Ya=i._duckdb_web_clear_response=()=>(Ya=i._duckdb_web_clear_response=E.ua)(),Va=i._duckdb_web_fail_with=e=>(Va=i._duckdb_web_fail_with=E.va)(e),Ja=i._duckdb_web_reset=e=>(Ja=i._duckdb_web_reset=E.wa)(e),Xa=i._duckdb_web_connect=()=>(Xa=i._duckdb_web_connect=E.xa)(),Za=i._duckdb_web_disconnect=e=>(Za=i._duckdb_web_disconnect=E.ya)(e),Qa=i._duckdb_web_flush_files=()=>(Qa=i._duckdb_web_flush_files=E.za)(),ei=i._duckdb_web_flush_file=e=>(ei=i._duckdb_web_flush_file=E.Aa)(e),ri=i._duckdb_web_open=(e,r)=>(ri=i._duckdb_web_open=E.Ba)(e,r),ti=i._duckdb_web_get_global_file_info=(e,r)=>(ti=i._duckdb_web_get_global_file_info=E.Ca)(e,r),ni=i._duckdb_web_collect_file_stats=(e,r,t)=>(ni=i._duckdb_web_collect_file_stats=E.Da)(e,r,t),ai=i._duckdb_web_export_file_stats=(e,r)=>(ai=i._duckdb_web_export_file_stats=E.Ea)(e,r),ii=i._duckdb_web_fs_drop_file=(e,r)=>(ii=i._duckdb_web_fs_drop_file=E.Fa)(e,r),si=i._duckdb_web_fs_drop_files=e=>(si=i._duckdb_web_fs_drop_files=E.Ga)(e),oi=i._duckdb_web_fs_glob_file_infos=(e,r)=>(oi=i._duckdb_web_fs_glob_file_infos=E.Ha)(e,r),ui=i._duckdb_web_fs_get_file_info_by_id=(e,r,t)=>(ui=i._duckdb_web_fs_get_file_info_by_id=E.Ia)(e,r,t),li=i._duckdb_web_fs_get_file_info_by_name=(e,r,t)=>(li=i._duckdb_web_fs_get_file_info_by_name=E.Ja)(e,r,t),ci=i._duckdb_web_fs_register_file_url=(e,r,t,a,l)=>(ci=i._duckdb_web_fs_register_file_url=E.Ka)(e,r,t,a,l),fi=i._duckdb_web_fs_register_file_buffer=(e,r,t,a)=>(fi=i._duckdb_web_fs_register_file_buffer=E.La)(e,r,t,a),_i=i._duckdb_web_copy_file_to_buffer=(e,r)=>(_i=i._duckdb_web_copy_file_to_buffer=E.Ma)(e,r),di=i._duckdb_web_copy_file_to_path=(e,r,t)=>(di=i._duckdb_web_copy_file_to_path=E.Na)(e,r,t),hi=i._duckdb_web_get_version=e=>(hi=i._duckdb_web_get_version=E.Oa)(e),bi=i._duckdb_web_get_feature_flags=()=>(bi=i._duckdb_web_get_feature_flags=E.Pa)(),pi=i._duckdb_web_tokenize=(e,r)=>(pi=i._duckdb_web_tokenize=E.Qa)(e,r),mi=i._duckdb_web_udf_scalar_create=(e,r,t)=>(mi=i._duckdb_web_udf_scalar_create=E.Ra)(e,r,t),vi=i._duckdb_web_prepared_create=(e,r,t)=>(vi=i._duckdb_web_prepared_create=E.Sa)(e,r,t),gi=i._duckdb_web_prepared_close=(e,r,t)=>(gi=i._duckdb_web_prepared_close=E.Ta)(e,r,t),yi=i._duckdb_web_prepared_run=(e,r,t,a)=>(yi=i._duckdb_web_prepared_run=E.Ua)(e,r,t,a),wi=i._duckdb_web_prepared_send=(e,r,t,a)=>(wi=i._duckdb_web_prepared_send=E.Va)(e,r,t,a),Di=i._duckdb_web_query_run=(e,r,t)=>(Di=i._duckdb_web_query_run=E.Wa)(e,r,t),Fi=i._duckdb_web_pending_query_start=(e,r,t)=>(Fi=i._duckdb_web_pending_query_start=E.Xa)(e,r,t),ki=i._duckdb_web_pending_query_poll=(e,r,t)=>(ki=i._duckdb_web_pending_query_poll=E.Ya)(e,r,t),Ei=i._duckdb_web_pending_query_cancel=(e,r)=>(Ei=i._duckdb_web_pending_query_cancel=E.Za)(e,r),Ai=i._duckdb_web_query_fetch_results=(e,r)=>(Ai=i._duckdb_web_query_fetch_results=E._a)(e,r),xi=i._duckdb_web_get_tablenames=(e,r,t)=>(xi=i._duckdb_web_get_tablenames=E.$a)(e,r,t),Ti=i._duckdb_web_insert_arrow_from_ipc_stream=(e,r,t,a,l)=>(Ti=i._duckdb_web_insert_arrow_from_ipc_stream=E.ab)(e,r,t,a,l),Si=i._duckdb_web_insert_csv_from_path=(e,r,t,a)=>(Si=i._duckdb_web_insert_csv_from_path=E.bb)(e,r,t,a),Ri=i._duckdb_web_insert_json_from_path=(e,r,t,a)=>(Ri=i._duckdb_web_insert_json_from_path=E.cb)(e,r,t,a),Mi=i.__emscripten_tls_init=()=>(Mi=i.__emscripten_tls_init=E.db)(),ze=i._pthread_self=()=>(ze=i._pthread_self=E.eb)(),Bi=()=>(Bi=E.__errno_location)(),Zt=i.__emscripten_thread_init=(e,r,t,a,l,p)=>(Zt=i.__emscripten_thread_init=E.fb)(e,r,t,a,l,p),Ui=i.__emscripten_thread_crashed=()=>(Ui=i.__emscripten_thread_crashed=E.gb)(),je=e=>(je=E.hb)(e),Ye=e=>(Ye=E.ib)(e),Ii=()=>(Ii=E.emscripten_main_runtime_thread_id)(),Hi=()=>(Hi=E.emscripten_main_thread_process_queued_calls)(),dr=e=>(dr=E.jb)(e),Qt=(e,r,t,a)=>(Qt=E.kb)(e,r,t,a),hr=e=>(hr=E.lb)(e),br=i.__emscripten_thread_exit=e=>(br=i.__emscripten_thread_exit=E.mb)(e),en=()=>(en=E.nb)(),pr=i._malloc=e=>(pr=i._malloc=E.ob)(e),Ni=i._free=e=>(Ni=i._free=E.pb)(e),rn=()=>(rn=E.qb)(),tn=(e,r)=>(tn=E.rb)(e,r),Ve=()=>(Ve=E.sb)(),Ie=e=>(Ie=E.tb)(e),He=e=>(He=E.ub)(e);function Li(e){e=Object.assign({},e);var r=a=>()=>a()>>>0,t=a=>l=>a(l)>>>0;return e.eb=r(e.eb),e.__errno_location=r(e.__errno_location),e.emscripten_main_runtime_thread_id=r(e.emscripten_main_runtime_thread_id),e.ob=t(e.ob),e.sb=r(e.sb),e.ub=t(e.ub),e}i.wasmMemory=I,i.stackAlloc=He,i.stackSave=Ve,i.stackRestore=Ie,i.keepRuntimeAlive=Le,i.ccall=qa,i.ExitStatus=rr,i.PThread=H;var Je;Me=function e(){Je||nn(),Je||(Me=e)};function Pi(){var e=Xt,r=0,t=0;try{var a=e(r,t);return et(a,!0),a}catch(l){return ar(l)}}function nn(){if(ke>0)return;if(k){T(i),Cr(),startWorker(i);return}if(Un(),ke>0)return;function e(){Je||(Je=!0,i.calledRun=!0,!ne&&(Cr(),In(),T(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),an&&Pi(),Hn()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();var an=!0;return i.noInitialRun&&(an=!1),nn(),s.ready}})();typeof vn=="object"&&typeof Ar=="object"?Ar.exports=mn:typeof define=="function"&&define.amd&&define([],()=>mn)});var yn=ge(()=>{});var wn=ge(()=>{});var Dn=ge((Ds,Ze)=>{(function(){"use strict";var n="input is invalid type",s=typeof window=="object",c=s?window:{};c.JS_SHA256_NO_WINDOW&&(s=!1);var f=!s&&typeof self=="object",o=!c.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?c=global:f&&(c=self);var g=!c.JS_SHA256_NO_COMMON_JS&&typeof Ze=="object"&&Ze.exports,_=typeof define=="function"&&define.amd,m=!c.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),i=[-2147483648,8388608,32768,128],T=[24,16,8,0],V=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Z=["hex","array","digest","arrayBuffer"],K=[];(c.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"}),m&&(c.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(h){return typeof h=="object"&&h.buffer&&h.buffer.constructor===ArrayBuffer});var ue=function(h,F){return function(S){return new k(F,!0).update(S)[h]()}},_e=function(h){var F=ue("hex",h);o&&(F=pe(F,h)),F.create=function(){return new k(h)},F.update=function(A){return F.create().update(A)};for(var S=0;S<Z.length;++S){var b=Z[S];F[b]=ue(b,h)}return F},pe=function(h,F){var S=yn(),b=wn().Buffer,A=F?"sha224":"sha256",w;b.from&&!c.JS_SHA256_NO_BUFFER_FROM?w=b.from:w=function(v){return new b(v)};var B=function(v){if(typeof v=="string")return S.createHash(A).update(v,"utf8").digest("hex");if(v==null)throw new Error(n);return v.constructor===ArrayBuffer&&(v=new Uint8Array(v)),Array.isArray(v)||ArrayBuffer.isView(v)||v.constructor===b?S.createHash(A).update(w(v)).digest("hex"):h(v)};return B},ae=function(h,F){return function(S,b){return new z(S,F,!0).update(b)[h]()}},J=function(h){var F=ae("hex",h);F.create=function(A){return new z(A,h)},F.update=function(A,w){return F.create(A).update(w)};for(var S=0;S<Z.length;++S){var b=Z[S];F[b]=ae(b,h)}return F};function k(h,F){F?(K[0]=K[16]=K[1]=K[2]=K[3]=K[4]=K[5]=K[6]=K[7]=K[8]=K[9]=K[10]=K[11]=K[12]=K[13]=K[14]=K[15]=0,this.blocks=K):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=h}k.prototype.update=function(h){if(!this.finalized){var F,S=typeof h;if(S!=="string"){if(S==="object"){if(h===null)throw new Error(n);if(m&&h.constructor===ArrayBuffer)h=new Uint8Array(h);else if(!Array.isArray(h)&&(!m||!ArrayBuffer.isView(h)))throw new Error(n)}else throw new Error(n);F=!0}for(var b,A=0,w,B=h.length,v=this.blocks;A<B;){if(this.hashed&&(this.hashed=!1,v[0]=this.block,v[16]=v[1]=v[2]=v[3]=v[4]=v[5]=v[6]=v[7]=v[8]=v[9]=v[10]=v[11]=v[12]=v[13]=v[14]=v[15]=0),F)for(w=this.start;A<B&&w<64;++A)v[w>>2]|=h[A]<<T[w++&3];else for(w=this.start;A<B&&w<64;++A)b=h.charCodeAt(A),b<128?v[w>>2]|=b<<T[w++&3]:b<2048?(v[w>>2]|=(192|b>>6)<<T[w++&3],v[w>>2]|=(128|b&63)<<T[w++&3]):b<55296||b>=57344?(v[w>>2]|=(224|b>>12)<<T[w++&3],v[w>>2]|=(128|b>>6&63)<<T[w++&3],v[w>>2]|=(128|b&63)<<T[w++&3]):(b=65536+((b&1023)<<10|h.charCodeAt(++A)&1023),v[w>>2]|=(240|b>>18)<<T[w++&3],v[w>>2]|=(128|b>>12&63)<<T[w++&3],v[w>>2]|=(128|b>>6&63)<<T[w++&3],v[w>>2]|=(128|b&63)<<T[w++&3]);this.lastByteIndex=w,this.bytes+=w-this.start,w>=64?(this.block=v[16],this.start=w-64,this.hash(),this.hashed=!0):this.start=w}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var h=this.blocks,F=this.lastByteIndex;h[16]=this.block,h[F>>2]|=i[F&3],this.block=h[16],F>=56&&(this.hashed||this.hash(),h[0]=this.block,h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0),h[14]=this.hBytes<<3|this.bytes>>>29,h[15]=this.bytes<<3,this.hash()}},k.prototype.hash=function(){var h=this.h0,F=this.h1,S=this.h2,b=this.h3,A=this.h4,w=this.h5,B=this.h6,v=this.h7,x=this.blocks,M,I,Y,ne,N,le,X,ye,Ae,xe,Fe;for(M=16;M<64;++M)N=x[M-15],I=(N>>>7|N<<25)^(N>>>18|N<<14)^N>>>3,N=x[M-2],Y=(N>>>17|N<<15)^(N>>>19|N<<13)^N>>>10,x[M]=x[M-16]+I+x[M-7]+Y<<0;for(Fe=F&S,M=0;M<64;M+=4)this.first?(this.is224?(ye=300032,N=x[0]-1413257819,v=N-150054599<<0,b=N+24177077<<0):(ye=704751109,N=x[0]-210244248,v=N-1521486534<<0,b=N+143694565<<0),this.first=!1):(I=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),Y=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),ye=h&F,ne=ye^h&S^Fe,X=A&w^~A&B,N=v+Y+X+V[M]+x[M],le=I+ne,v=b+N<<0,b=N+le<<0),I=(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10),Y=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),Ae=b&h,ne=Ae^b&F^ye,X=v&A^~v&w,N=B+Y+X+V[M+1]+x[M+1],le=I+ne,B=S+N<<0,S=N+le<<0,I=(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),Y=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),xe=S&b,ne=xe^S&h^Ae,X=B&v^~B&A,N=w+Y+X+V[M+2]+x[M+2],le=I+ne,w=F+N<<0,F=N+le<<0,I=(F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10),Y=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7),Fe=F&S,ne=Fe^F&b^xe,X=w&B^~w&v,N=A+Y+X+V[M+3]+x[M+3],le=I+ne,A=h+N<<0,h=N+le<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+h<<0,this.h1=this.h1+F<<0,this.h2=this.h2+S<<0,this.h3=this.h3+b<<0,this.h4=this.h4+A<<0,this.h5=this.h5+w<<0,this.h6=this.h6+B<<0,this.h7=this.h7+v<<0},k.prototype.hex=function(){this.finalize();var h=this.h0,F=this.h1,S=this.h2,b=this.h3,A=this.h4,w=this.h5,B=this.h6,v=this.h7,x=u[h>>28&15]+u[h>>24&15]+u[h>>20&15]+u[h>>16&15]+u[h>>12&15]+u[h>>8&15]+u[h>>4&15]+u[h&15]+u[F>>28&15]+u[F>>24&15]+u[F>>20&15]+u[F>>16&15]+u[F>>12&15]+u[F>>8&15]+u[F>>4&15]+u[F&15]+u[S>>28&15]+u[S>>24&15]+u[S>>20&15]+u[S>>16&15]+u[S>>12&15]+u[S>>8&15]+u[S>>4&15]+u[S&15]+u[b>>28&15]+u[b>>24&15]+u[b>>20&15]+u[b>>16&15]+u[b>>12&15]+u[b>>8&15]+u[b>>4&15]+u[b&15]+u[A>>28&15]+u[A>>24&15]+u[A>>20&15]+u[A>>16&15]+u[A>>12&15]+u[A>>8&15]+u[A>>4&15]+u[A&15]+u[w>>28&15]+u[w>>24&15]+u[w>>20&15]+u[w>>16&15]+u[w>>12&15]+u[w>>8&15]+u[w>>4&15]+u[w&15]+u[B>>28&15]+u[B>>24&15]+u[B>>20&15]+u[B>>16&15]+u[B>>12&15]+u[B>>8&15]+u[B>>4&15]+u[B&15];return this.is224||(x+=u[v>>28&15]+u[v>>24&15]+u[v>>20&15]+u[v>>16&15]+u[v>>12&15]+u[v>>8&15]+u[v>>4&15]+u[v&15]),x},k.prototype.toString=k.prototype.hex,k.prototype.digest=function(){this.finalize();var h=this.h0,F=this.h1,S=this.h2,b=this.h3,A=this.h4,w=this.h5,B=this.h6,v=this.h7,x=[h>>24&255,h>>16&255,h>>8&255,h&255,F>>24&255,F>>16&255,F>>8&255,F&255,S>>24&255,S>>16&255,S>>8&255,S&255,b>>24&255,b>>16&255,b>>8&255,b&255,A>>24&255,A>>16&255,A>>8&255,A&255,w>>24&255,w>>16&255,w>>8&255,w&255,B>>24&255,B>>16&255,B>>8&255,B&255];return this.is224||x.push(v>>24&255,v>>16&255,v>>8&255,v&255),x},k.prototype.array=k.prototype.digest,k.prototype.arrayBuffer=function(){this.finalize();var h=new ArrayBuffer(this.is224?28:32),F=new DataView(h);return F.setUint32(0,this.h0),F.setUint32(4,this.h1),F.setUint32(8,this.h2),F.setUint32(12,this.h3),F.setUint32(16,this.h4),F.setUint32(20,this.h5),F.setUint32(24,this.h6),this.is224||F.setUint32(28,this.h7),h};function z(h,F,S){var b,A=typeof h;if(A==="string"){var w=[],B=h.length,v=0,x;for(b=0;b<B;++b)x=h.charCodeAt(b),x<128?w[v++]=x:x<2048?(w[v++]=192|x>>6,w[v++]=128|x&63):x<55296||x>=57344?(w[v++]=224|x>>12,w[v++]=128|x>>6&63,w[v++]=128|x&63):(x=65536+((x&1023)<<10|h.charCodeAt(++b)&1023),w[v++]=240|x>>18,w[v++]=128|x>>12&63,w[v++]=128|x>>6&63,w[v++]=128|x&63);h=w}else if(A==="object"){if(h===null)throw new Error(n);if(m&&h.constructor===ArrayBuffer)h=new Uint8Array(h);else if(!Array.isArray(h)&&(!m||!ArrayBuffer.isView(h)))throw new Error(n)}else throw new Error(n);h.length>64&&(h=new k(F,!0).update(h).array());var M=[],I=[];for(b=0;b<64;++b){var Y=h[b]||0;M[b]=92^Y,I[b]=54^Y}k.call(this,F,S),this.update(I),this.oKeyPad=M,this.inner=!0,this.sharedMemory=S}z.prototype=new k,z.prototype.finalize=function(){if(k.prototype.finalize.call(this),this.inner){this.inner=!1;var h=this.array();k.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(h),k.prototype.finalize.call(this)}};var Q=_e();Q.sha256=Q,Q.sha224=_e(!0),Q.sha256.hmac=J(),Q.sha224.hmac=J(!0),g?Ze.exports=Q:(c.sha256=Q.sha256,c.sha224=Q.sha224,_&&define(function(){return Q}))})()});var G={},fn=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";fn&&(yr=vr(),wr=yr.parentPort,wr.on("message",n=>Er({data:n})),Fr=gr(),Object.assign(global,{self:global,require:mr,Module:G,location:{href:__filename},Worker:yr.Worker,importScripts:n=>(0,eval)(Fr.readFileSync(n,"utf8")+"//# sourceURL="+n),postMessage:n=>wr.postMessage(n),performance:global.performance||{now:Date.now}}));var yr,wr,Fr,Dr=!1;function Ji(){var n=Array.prototype.slice.call(arguments).join(" ");if(fn){Fr.writeSync(2,n+"\n");return}console.error(n)}function Xi(){var n=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:n,threadId:G._pthread_self()})}var cn=Ji;self.alert=Xi;G.instantiateWasm=(n,s)=>{var c=G.wasmModule;G.wasmModule=null;var f=new WebAssembly.Instance(c,n);return s(f)};self.onunhandledrejection=n=>{throw n.reason||n};function kr(n){try{if(n.data.cmd==="load"){let c=[];self.onmessage=f=>c.push(f),self.startWorker=f=>{G=f,postMessage({cmd:"loaded"});for(let o of c)kr(o);self.onmessage=kr},G.wasmModule=n.data.wasmModule;for(let f of n.data.handlers)G[f]=(...o)=>{postMessage({cmd:"callHandler",handler:f,args:o})};if(G.wasmMemory=n.data.wasmMemory,G.buffer=G.wasmMemory.buffer,G.ENVIRONMENT_IS_PTHREAD=!0,typeof n.data.urlOrBlob=="string")importScripts(n.data.urlOrBlob);else{var s=URL.createObjectURL(n.data.urlOrBlob);importScripts(s),URL.revokeObjectURL(s)}DuckDB(G)}else if(n.data.cmd==="run"){G.__emscripten_thread_init(n.data.pthread_ptr,0,0,1),G.__emscripten_thread_mailbox_await(n.data.pthread_ptr),G.establishStackSpace(),G.PThread.receiveObjectTransfer(n.data),G.PThread.threadInitTLS(),Dr||(Dr=!0);try{G.invokeEntryPoint(n.data.start_routine,n.data.arg)}catch(c){if(c!="unwind")throw c}}else n.data.cmd==="cancel"?G._pthread_self()&&G.__emscripten_thread_exit(-1):n.data.target==="setimmediate"||(n.data.cmd==="checkMailbox"?Dr&&G.checkMailbox():n.data.cmd&&(cn("worker.js received unknown command ".concat(n.data.cmd)),cn(n.data)))}catch(c){throw G.__emscripten_thread_crashed&&G.__emscripten_thread_crashed(),c}}self.onmessage=kr;var Er=self.onmessage;function _n(){return G}function dn(n){G=n}var Rn=ln(gn());var De=ln(Dn()),Fn=function(n,s,c){var f;if((f=n==null?void 0:n.endpoint)!=null&&f.startsWith("http")){let o="".concat(n==null?void 0:n.endpoint),g=o.indexOf("://")+3;return o.substring(g)}else return n!=null&&n.endpoint?"".concat(c,".").concat(n==null?void 0:n.endpoint):"".concat(c,".s3.amazonaws.com")};function Qi(n,s,c){var g,_,m,u;let f=kn(s),o=f.path;return En(n)&&(o="/".concat(f.bucket).concat(o)),{url:o,query:"",host:Fn(n,s,f.bucket),region:(g=n==null?void 0:n.region)!=null?g:"",service:"s3",method:c,accessKeyId:(_=n==null?void 0:n.accessKeyId)!=null?_:"",secretAccessKey:(m=n==null?void 0:n.secretAccessKey)!=null?m:"",sessionToken:(u=n==null?void 0:n.sessionToken)!=null?u:"",dateNow:new Date().toISOString().replace(/-/g,"").split("T")[0],datetimeNow:new Date().toISOString().replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"}}function es(n,s=!1){let c="0123456789ABCDEF",f="";for(let o=0;o<n.length;o++){let g=n[o];g>="A"&&g<="Z"||g>="a"&&g<="z"||g>="0"&&g<="9"||g=="_"||g=="-"||g=="~"||g=="."?f+=g:g=="/"?s?f+="%2F":f+=g:(f+="%",f+=c[g.charCodeAt(0)>>4],f+=c[g.charCodeAt(0)&15])}return f}function rs(n,s=null){var ue;let c=(ue=s==null?void 0:s.contentHash)!=null?ue:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",f=new Map;f.set("x-amz-date",n.datetimeNow),f.set("x-amz-content-sha256",c),n.sessionToken&&f.set("x-amz-security-token",n.sessionToken);let o="";s!=null&&s.contentType&&(o+="content-type;"),o+="host;x-amz-content-sha256;x-amz-date",n.sessionToken&&(o+=";x-amz-security-token");let g=n.method+"\n"+es(n.url)+"\n"+n.query;s!=null&&s.contentType&&(g+="\ncontent-type:"+(s==null?void 0:s.contentType)),g+="\nhost:"+n.host+"\nx-amz-content-sha256:"+c+"\nx-amz-date:"+n.datetimeNow,n.sessionToken&&n.sessionToken.length>0&&(g+="\nx-amz-security-token:"+n.sessionToken),g+="\n\n"+o+"\n"+c;let _=(0,De.sha256)(g),m="AWS4-HMAC-SHA256\n"+n.datetimeNow+"\n"+n.dateNow+"/"+n.region+"/"+n.service+"/aws4_request\n"+_,u="AWS4"+n.secretAccessKey,i=De.sha256.hmac.arrayBuffer(u,n.dateNow),T=De.sha256.hmac.arrayBuffer(i,n.region),V=De.sha256.hmac.arrayBuffer(T,n.service),Z=De.sha256.hmac.arrayBuffer(V,"aws4_request"),K=De.sha256.hmac(Z,m);return f.set("Authorization","AWS4-HMAC-SHA256 Credential="+n.accessKeyId+"/"+n.dateNow+"/"+n.region+"/"+n.service+"/aws4_request, SignedHeaders="+o+", Signature="+K),f}var ts=function(n,s,c,f=null,o=null){let g=Qi(n,s,c),_={contentType:f,contentHash:o?De.sha256.hex(o):null};return rs(g,_)};function he(n,s,c,f,o=null,g=null){(s!=null&&s.accessKeyId||s!=null&&s.sessionToken)&&(ts(s,c,f,o,g).forEach((m,u)=>{n.setRequestHeader(u,m)}),o&&n.setRequestHeader("content-type",o))}function kn(n){if(n.indexOf("s3://")!=0)throw new Error("URL needs to start with s3://");let s=n.indexOf("/",5);if(s==-1)throw new Error("URL needs to contain a '/' after the host");let c=n.substring(5,s);if(!c)throw new Error("URL needs to contain a bucket name");let f=n.substring(s);if(!f)throw new Error("URL needs to contain key");return{bucket:c,path:f}}function En(n){var s;return!!((s=n==null?void 0:n.endpoint)!=null&&s.startsWith("http"))}function be(n,s){let c=kn(s);return En(n)?"".concat(n==null?void 0:n.endpoint,"/").concat(c.bucket)+c.path:"https://"+Fn(n,s,c.bucket)+c.path}var Tn=new TextEncoder,An=new TextDecoder("utf-8");function xr(n,s,c){let f=Tn.encode(c),o=n._malloc(f.byteLength),g=n.HEAPU8.subarray(o,o+f.byteLength);g.set(f),n.HEAPF64[(s>>3)+0]=1,n.HEAPF64[(s>>3)+1]=o,n.HEAPF64[(s>>3)+2]=g.byteLength}function Sr(n){switch(n){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Tr(n,s,c,f){let o=n.HEAPU8.subarray(s,s+f*Sr(c));switch(c){case"UINT8":return new Uint8Array(o.buffer,o.byteOffset,f);case"INT8":return new Int8Array(o.buffer,o.byteOffset,f);case"INT32":return new Int32Array(o.buffer,o.byteOffset,f);case"FLOAT":return new Float32Array(o.buffer,o.byteOffset,f);case"DOUBLE":return new Float64Array(o.buffer,o.byteOffset,f);case"VARCHAR":return new Float64Array(o.buffer,o.byteOffset,f);default:return new Array(0)}}function xn(n,s,c){let f=n.HEAPU8.subarray(s,s+c);return new Uint8Array(f.buffer,f.byteOffset,c)}function Qe(n,s,c){let f=n.HEAPU8.subarray(s,s+c*8);return new Float64Array(f.buffer,f.byteOffset,c)}function Sn(n,s,c,f,o,g,_,m){try{let u=n._udfFunctions.get(f);if(!u){xr(s,c,"Unknown UDF with id: "+f);return}let i=An.decode(s.HEAPU8.subarray(o,o+g)),T=JSON.parse(i),V=Qe(s,_,m/8),Z=b=>{var w;let A=null;switch(b.validityBuffer!==void 0&&(A=xn(s,V[b.validityBuffer],T.rows)),b.physicalType){case"VARCHAR":{if(b.dataBuffer===null||b.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(b.lengthBuffer===null||b.lengthBuffer===void 0)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let B=Tr(s,V[b.dataBuffer],b.physicalType,T.rows),v=[],x=Qe(s,V[b.lengthBuffer],T.rows);for(let M=0;M<T.rows;++M){if(A!=null&&!A[M]){v.push(null);continue}let I=s.HEAPU8.subarray(B[M],B[M]+x[M]),Y=An.decode(I);v.push(Y)}return M=>v[M]}case"STRUCT":{let B={},v=[];for(let x=0;x<(((w=b.children)==null?void 0:w.length)||0);++x){let M=b.children[x],I=Z(M);v.push(Y=>{B[M.name]=I(Y)})}return A!=null?x=>{if(!A[x])return null;for(let M of v)M(x);return B}:x=>{for(let M of v)M(x);return B}}default:{if(b.dataBuffer===void 0)throw new Error("malformed data view, expected data buffer for argument of type: "+b.physicalType);let B=Tr(s,V[b.dataBuffer],b.physicalType,T.rows);return A!=null?v=>A[v]?B[v]:null:v=>B[v]}}},K=[];for(let b=0;b<T.args.length;++b)K.push(Z(T.args[b]));let ue=T.rows*Sr(T.ret.physicalType),_e=s._malloc(ue),pe=Tr(s,_e,T.ret.physicalType,T.rows),ae=s._malloc(T.rows),J=xn(s,ae,T.rows);if(pe.length==0||J.length==0){xr(s,c,"Can't create physical arrays for result");return}let k=pe;T.ret.physicalType=="VARCHAR"&&(k=new Array(T.rows));let z=[];for(let b=0;b<T.args.length;++b)z.push(null);for(let b=0;b<T.rows;++b){for(let w=0;w<T.args.length;++w)z[w]=K[w](b);let A=u.func(...z);k[b]=A,J[b]=A==null?0:1}let Q=0;switch(T.ret.physicalType){case"VARCHAR":{let b=new Array(0);Q=s._malloc(T.rows*Sr("DOUBLE"));let A=Qe(s,Q,T.rows),w=0;for(let M=0;M<T.rows;++M){let I=Tn.encode(k[M]||"");b.push(I),A[M]=I.length,w+=I.length}let B=s._malloc(w),v=s.HEAPU8.subarray(B,B+w),x=0;for(let M=0;M<T.rows;++M){pe[M]=x;let I=b[M];v.subarray(x,x+I.length).set(I),x+=I.length}}}let h=3*8,F=s._malloc(h),S=Qe(s,F,3);S[0]=_e,S[1]=ae,S[2]=Q,s.HEAPF64[(c>>3)+0]=0,s.HEAPF64[(c>>3)+1]=F,s.HEAPF64[(c>>3)+2]=0}catch(u){xr(s,c,u.toString())}}function as(){let n=new TextDecoder;return s=>(typeof SharedArrayBuffer<"u"&&s.buffer instanceof SharedArrayBuffer&&(s=new Uint8Array(s)),n.decode(s))}var is=as();function oe(n,s){console.error("FAIL WITH: ".concat(s)),n.ccall("duckdb_web_fail_with",null,["string"],[s])}function fe(n,s,c){return is(n.HEAPU8.subarray(s,s+c))}function Rr(n,s,c,f){let o=n.stackSave(),g=n.stackAlloc(3*8);c.unshift("number"),f.unshift(g),n.ccall(s,null,c,f);let _=n.HEAPF64[(g>>3)+0],m=n.HEAPF64[(g>>3)+1],u=n.HEAPF64[(g>>3)+2];return n.stackRestore(o),[_,m,u]}function Mr(n){n.ccall("duckdb_web_clear_response",null,[],[])}var C={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,_globalFileInfo:null,getFileInfo(n,s){try{let c=C._fileInfoCache.get(s),[f,o,g]=Rr(n,"duckdb_web_fs_get_file_info_by_id",["number","number"],[s,(c==null?void 0:c.cacheEpoch)||0]);if(f!==0)return null;if(g===0)return c;let _=fe(n,o,g);Mr(n);let m=JSON.parse(_);if(m==null)return null;let u={...m,blob:null};return C._fileInfoCache.set(s,u),u}catch(c){return console.log(c),null}},getGlobalFileInfo(n){var s;try{let[c,f,o]=Rr(n,"duckdb_web_get_global_file_info",["number"],[((s=C._globalFileInfo)==null?void 0:s.cacheEpoch)||0]);if(c!==0)return null;if(o===0)return C._globalFileInfo;let g=fe(n,f,o);Mr(n);let _=JSON.parse(g);return _==null?null:(C._globalFileInfo={..._,blob:null},C._globalFileInfo)}catch(c){return console.log(c),null}},testPlatformFeature:(n,s)=>{switch(s){case 1:return typeof BigInt64Array<"u";default:return console.warn("test for unknown feature: ".concat(s)),!1}},getDefaultDataProtocol(n){return 2},openFile:(n,s,c)=>{var f;try{C._fileInfoCache.delete(s);let o=C.getFileInfo(n,s);switch(o==null?void 0:o.dataProtocol){case 4:case 5:{if(c&1&&c&2)throw new Error("Opening file ".concat(o.fileName," failed: cannot open file with both read and write flags set"));if(c&32)throw new Error("Opening file ".concat(o.fileName," failed: appending to HTTP/S3 files is not supported"));if(c&2){let m=new XMLHttpRequest;if(o.dataProtocol==5?(m.open("HEAD",be(o.s3Config,o.dataUrl),!1),he(m,o.s3Config,o.dataUrl,"HEAD")):m.open("HEAD",o.dataUrl,!1),m.send(null),m.status!=200&&m.status!=404)throw new Error("Opening file ".concat(o.fileName," failed: Unexpected return status from server (").concat(m.status,")"));if(m.status==404&&!(c&8||c&16))throw new Error("Opening file ".concat(o.fileName," failed: Cannot write to non-existent file without FILE_FLAGS_FILE_CREATE or FILE_FLAGS_FILE_CREATE_NEW flag."));let u=n._malloc(1),i=new Uint8Array;n.HEAPU8.set(i,u);let T=n._malloc(2*8);return n.HEAPF64[(T>>3)+0]=1,n.HEAPF64[(T>>3)+1]=u,T}else if(c!=1)throw new Error("Opening file ".concat(o.fileName," failed: unsupported file flags: ").concat(c));let g=null,_=null;try{let m=new XMLHttpRequest;if(o.dataProtocol==5?(m.open("HEAD",be(o.s3Config,o.dataUrl),!1),he(m,o.s3Config,o.dataUrl,"HEAD")):m.open("HEAD",o.dataUrl,!1),m.setRequestHeader("Range","bytes=0-"),m.send(null),g=m.getResponseHeader("Content-Length"),g!==null&&m.status==206){let u=n._malloc(16);return n.HEAPF64[(u>>3)+0]=+g,n.HEAPF64[(u>>3)+1]=0,u}}catch(m){_=m,console.warn("HEAD request with range header failed: ".concat(m))}if(o.allowFullHttpReads){if(g!==null&&+g>1){let u=new XMLHttpRequest;o.dataProtocol==5?(u.open("GET",be(o.s3Config,o.dataUrl),!1),he(u,o.s3Config,o.dataUrl,"GET")):u.open("GET",o.dataUrl,!1),u.responseType="arraybuffer",u.setRequestHeader("Range","bytes=0-0"),u.send(null);let i=u.getResponseHeader("Content-Length");if(u.status==206&&i!==null&&+i==1){let T=n._malloc(16);return n.HEAPF64[(T>>3)+0]=+g,n.HEAPF64[(T>>3)+1]=0,T}if(u.status==200&&i!==null&&+i==+g){console.warn("fall back to full HTTP read for: ".concat(o.dataUrl));let T=n._malloc(u.response.byteLength),V=new Uint8Array(u.response,0,u.response.byteLength);n.HEAPU8.set(V,T);let Z=n._malloc(2*8);return n.HEAPF64[(Z>>3)+0]=u.response.byteLength,n.HEAPF64[(Z>>3)+1]=T,Z}}console.warn("falling back to full HTTP read for: ".concat(o.dataUrl));let m=new XMLHttpRequest;if(o.dataProtocol==5?(m.open("GET",be(o.s3Config,o.dataUrl),!1),he(m,o.s3Config,o.dataUrl,"GET")):m.open("GET",o.dataUrl,!1),m.responseType="arraybuffer",m.send(null),m.status==200){let u=n._malloc(m.response.byteLength),i=new Uint8Array(m.response,0,m.response.byteLength);n.HEAPU8.set(i,u);let T=n._malloc(2*8);return n.HEAPF64[(T>>3)+0]=m.response.byteLength,n.HEAPF64[(T>>3)+1]=u,T}}if(_!=null)throw new Error("Reading file ".concat(o.fileName," failed with error: ").concat(_));return 0}case 2:{let g=(f=C._files)==null?void 0:f.get(o.fileName);if(g){let u=n._malloc(16);return n.HEAPF64[(u>>3)+0]=g.size,n.HEAPF64[(u>>3)+1]=0,u}console.warn("Buffering missing file: ".concat(o.fileName));let _=n._malloc(2*8),m=n._malloc(1);return n.HEAPF64[(_>>3)+0]=1,n.HEAPF64[(_>>3)+1]=m,_}}}catch(o){console.error(o.toString()),oe(n,o.toString())}return 0},glob:(n,s,c)=>{var f;try{let o=fe(n,s,c);if(o.startsWith("http")||o.startsWith("s3://")){let g=new XMLHttpRequest;if(o.startsWith("s3://")){let _=C.getGlobalFileInfo(n);g.open("HEAD",be(_==null?void 0:_.s3Config,o),!1),he(g,_==null?void 0:_.s3Config,o,"HEAD")}else g.open("HEAD",o,!1);if(g.send(null),g.status!=200&&g.status!==206){if(!((f=C.getGlobalFileInfo(n))!=null&&f.allowFullHttpReads)){oe(n,"HEAD request failed: ".concat(o,", with full http reads are disabled"));return}let _=new XMLHttpRequest;if(o.startsWith("s3://")){let u=C.getGlobalFileInfo(n);_.open("GET",be(u==null?void 0:u.s3Config,o),!1),he(_,u==null?void 0:u.s3Config,o,"HEAD")}else _.open("GET",o,!1);if(_.setRequestHeader("Range","bytes=0-0"),_.send(null),_.status!=200&&_.status!==206){oe(n,"HEAD and GET requests failed: ".concat(o));return}let m=_.getResponseHeader("Content-Length");m&&+m>1&&console.warn("Range request for ".concat(o," did not return a partial response: ").concat(_.status,' "').concat(_.statusText,'"'))}n.ccall("duckdb_web_fs_glob_add_path",null,["string"],[o])}}catch(o){return console.log(o),oe(n,o.toString()),0}},checkFile:(n,s,c)=>{try{let f=fe(n,s,c);if(f.startsWith("http")||f.startsWith("s3://")){let o=new XMLHttpRequest;if(f.startsWith("s3://")){let g=C.getGlobalFileInfo(n);o.open("HEAD",be(g==null?void 0:g.s3Config,f),!1),he(o,g==null?void 0:g.s3Config,f,"HEAD")}else o.open("HEAD",f,!1);return o.send(null),o.status==206||o.status==200}}catch(f){return console.log(f),!1}return!1},syncFile:(n,s)=>{},closeFile:(n,s)=>{var f;let c=C.getFileInfo(n,s);switch(C._fileInfoCache.delete(s),c==null?void 0:c.dataProtocol){case 0:case 4:case 5:break;case 1:case 2:return;case 3:{let o=(f=C._files)==null?void 0:f.get(c.fileName);if(!o)throw new Error("No OPFS access handle registered with name: ".concat(c.fileName));return o.flush()}}},truncateFile:(n,s,c)=>{var o;let f=C.getFileInfo(n,s);switch(f==null?void 0:f.dataProtocol){case 4:oe(n,"Cannot truncate a http file");return;case 5:oe(n,"Cannot truncate an s3 file");return;case 0:case 1:case 2:oe(n,"truncateFile not implemented");return;case 3:{let g=(o=C._files)==null?void 0:o.get(f.fileName);if(!g)throw new Error("No OPFS access handle registered with name: ".concat(f.fileName));return g.truncate(c)}}return 0},readFile(n,s,c,f,o){var g,_;if(f==0)return 0;try{let m=C.getFileInfo(n,s);switch(m==null?void 0:m.dataProtocol){case 4:case 5:{if(!m.dataUrl)throw new Error("Missing data URL for file ".concat(s));try{let u=new XMLHttpRequest;if(m.dataProtocol==5?(u.open("GET",be(m==null?void 0:m.s3Config,m.dataUrl),!1),he(u,m==null?void 0:m.s3Config,m.dataUrl,"GET")):u.open("GET",m.dataUrl,!1),u.responseType="arraybuffer",u.setRequestHeader("Range","bytes=".concat(o,"-").concat(o+f-1)),u.send(null),u.status==206||u.status==200&&f==u.response.byteLength&&o==0){let i=new Uint8Array(u.response,0,Math.min(u.response.byteLength,f));return n.HEAPU8.set(i,c),i.byteLength}else if(u.status==200){console.warn("Range request for ".concat(m.dataUrl," did not return a partial response: ").concat(u.status,' "').concat(u.statusText,'"'));let i=new Uint8Array(u.response,o,Math.min(u.response.byteLength-o,f));return n.HEAPU8.set(i,c),i.byteLength}else throw new Error("Range request for ".concat(m.dataUrl," did returned non-success status: ").concat(u.status,' "').concat(u.statusText,'"'))}catch(u){throw console.log(u),new Error("Range request for ".concat(m.dataUrl," failed with error: ").concat(u,'"'))}}case 2:{let u=(g=C._files)==null?void 0:g.get(m.fileName);if(!u)throw new Error("No HTML5 file registered with name: ".concat(m.fileName));let i=u.slice(o,o+f),T=new Uint8Array(new FileReaderSync().readAsArrayBuffer(i));return n.HEAPU8.set(T,c),T.byteLength}case 3:{let u=(_=C._files)==null?void 0:_.get(m.fileName);if(!u)throw new Error("No OPFS access handle registered with name: ".concat(m.fileName));let i=n.HEAPU8.subarray(c,c+f);return u.read(i,{at:o})}}return 0}catch(m){return console.log(m),oe(n,m.toString()),0}},writeFile:(n,s,c,f,o)=>{var _;let g=C.getFileInfo(n,s);switch(g==null?void 0:g.dataProtocol){case 4:return oe(n,"Cannot write to HTTP file"),0;case 5:{let m=n.HEAPU8.subarray(c,c+f),u=new XMLHttpRequest;return u.open("PUT",be(g==null?void 0:g.s3Config,g.dataUrl),!1),he(u,g==null?void 0:g.s3Config,g.dataUrl,"PUT","",m),u.send(m),u.status!==200?(oe(n,"Failed writing file: HTTP "+u.status),0):f}case 2:return oe(n,"cannot write using the html5 file reader api"),0;case 3:{let m=(_=C._files)==null?void 0:_.get(g.fileName);if(!m)throw new Error("No OPFS access handle registered with name: ".concat(g.fileName));let u=n.HEAPU8.subarray(c,c+f);return m.write(u,{at:o})}}return 0},getLastFileModificationTime:(n,s)=>{var f;let c=C.getFileInfo(n,s);switch(c==null?void 0:c.dataProtocol){case 2:{if(!((f=C._files)==null?void 0:f.get(c.fileName)))throw Error("No handle available for file: ".concat(c.fileName));return 0}case 4:case 5:return new Date().getTime()}return 0},checkDirectory:(n,s,c)=>{let f=fe(n,s,c);return console.log("checkDirectory: ".concat(f)),!1},createDirectory:(n,s,c)=>{let f=fe(n,s,c);console.log("createDirectory: ".concat(f))},removeDirectory:(n,s,c)=>{let f=fe(n,s,c);console.log("removeDirectory: ".concat(f))},listDirectoryEntries:(n,s,c)=>{let f=fe(n,s,c);return console.log("listDirectoryEntries: ".concat(f)),!1},moveFile:(n,s,c,f,o)=>{var u,i;let g=fe(n,s,c),_=fe(n,f,o),m=(u=C._files)==null?void 0:u.get(g);m!==void 0&&(C._files.delete(m),C._files.set(_,m));for(let[T,V]of((i=C._fileInfoCache)==null?void 0:i.entries())||[])if(V.dataUrl==g){C._fileInfoCache.delete(T);break}return!0},removeFile:(n,s,c)=>{},callScalarUDF:(n,s,c,f,o,g,_)=>{Sn(C,n,s,c,f,o,g,_)}};globalThis.DUCKDB_RUNTIME={};for(let n of Object.getOwnPropertyNames(C))n!="constructor"&&(globalThis.DUCKDB_RUNTIME[n]=Object.getOwnPropertyDescriptor(C,n).value);globalThis.onmessage=n=>{if(n.data.cmd==="load"){let s=_n();globalThis.startWorker=c=>{s=c,postMessage({cmd:"loaded"})},s.wasmModule=n.data.wasmModule,s.wasmMemory=n.data.wasmMemory,s.buffer=s.wasmMemory.buffer,s.ENVIRONMENT_IS_PTHREAD=!0,(0,Rn.default)(s).then(c=>{dn(c)})}else if(n.data.cmd==="registerFileHandle")globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.set(n.data.fileName,n.data.fileHandle);else if(n.data.cmd==="dropFileHandle")globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.delete(n.data.fileName);else if(n.data.cmd==="registerUDFFunction")globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._udfFunctions.set(n.data.udf.name,n.data.udf);else if(n.data.cmd==="dropUDFFunctions"){globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map;for(let s of globalThis.DUCKDB_RUNTIME._udfFunctions.keys())globalThis.DUCKDB_RUNTIME._udfFunctions.get(s).connection_id==n.data.connectionId&&globalThis.DUCKDB_RUNTIME._udfFunctions.delete(s)}else Er(n)};})();
/*! Bundled license information:

js-sha256/src/sha256.js:
  (**
   * [js-sha256]{@link https://github.com/emn178/js-sha256}
   *
   * @version 0.10.1
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2023
   * @license MIT
   *)
*/
//# sourceMappingURL=duckdb-browser-coi.pthread.worker.js.map
